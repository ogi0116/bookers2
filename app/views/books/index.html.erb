<div> <%= flash[:notice] %> </div>

<div class = "container">
  <div class = "row">
 <!--部分テンプレート入り1：ユーザ情報、ユーザ編集リンク(Userフォルダーに保存)-->
   <div class = "col-md-3">
    <%= render 'users/userinfo', user: @user %>
    <!--ここまでがユーザフォルダーに保存するテンプレート-->
    <!--部分テンプレート入り2：新規投稿フォーム(bookフォルダーに保存)-->
    <%= render 'newbook', book: @book %>
    <!--部分テンプレート終わり2：新規投稿フォーム(bookフォルダーに保存)-->
   </div>

     <!-- みんなが投稿した本の一覧が並べられる場所）-->
   <div class = "col-md-8 offset-md-1">
    <table class="table table-user">
     <h1>Books</h1>
     <thead>
      <th></th>
      <th>Title</th>
      <th>Opinion</th>
     </thead>
      <!--画像リンク先：本を投稿した人の詳細画面　タイトルリンク先：本の詳細ページ-->
     <tbody>
      <% @books.each do |book| %>
       <tr>
        <td> <!--link_toの次に、表示する文字を入れたいが画像なのでdoで改行-->
         <%= link_to user_path(book.user) do %>
          <%= image_tag book.user.get_profile_image(100,100) %>
         <% end %>
        </td>

        <td> <!--上と違って今回は文字なので、　link_to 表示する文字 飛ばしたいURL-->
         <%= link_to book.title, book_path(book.id)  %>
        </td>

         <td> <!--リンクなしで文字だけ-->
          <%= book.body %>
         </td>
        </tr>
      　 <% end %>
    　</tbody>
   　</table>
  　</div>
  </div>
 </div>
<!--ここまでがみんなが投稿した本の一覧が並べられる場所-->




